<div
  id="upload-profile-modal"
  class="fixed inset-0 z-50 flex items-center justify-center backdrop hidden"
>
  <div class="bg-white dark:bg-slate-800 shadow-md rounded-lg py-6 px-10">
    <div class="flex justify-between gap-4">
      <h2 class="text-xl font-bold mb-4">Update Profile Picture</h2>
      <i class="fa-solid fa-xmark cursor-pointer" (click)="closeModal()"></i>
    </div>
    <div class="flex gap-4">
      <button
        class="bg-blue-500 font-semibold py-2 px-3 rounded"
        (click)="isEdit = true"
        *ngIf="!isEdit"
      >
        Edit
      </button>
      @if( authService.user()?.profilePicture){
      <button
        class="bg-red-500 font-semibold p-2 rounded"
        *ngIf="!isEdit"
        (click)="onDelete()"
      >
        Delete
      </button>
      }
    </div>
    @if(isEdit){
    <div class="mb-4">
      <span class="block font-semibold text-gray-700 dark:text-white"
        >Profile Picture</span
      >
      <input
        type="file"
        accept="image/png, image/jpeg"
        (change)="onImageChange($event)"
        class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md cursor-pointer"
      />
    </div>
    <div class="mt-4 flex justify-end">
      <button
        type="button"
        class="mr-2 px-4 py-2 bg-gray-300 text-gray-700 rounded"
        (click)="this.isEdit = false"
      >
        Cancel
      </button>
      <button
        class="bg-blue-500 mr-2 px-4 py-2 rounded disabled:bg-blue-300 disabled:cursor-not-allowed"
        (click)="uploadProfile()"
        [disabled]="!profileImage"
      >
        <i class="fa fa-spinner fa-spin" *ngIf="isLoading"> </i>
        Upload
        <i class="fa-solid fa-upload ml-1 text-lg"></i>
      </button>
    </div>
    }
  </div>
</div>
